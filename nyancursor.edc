#ifndef __NYANCAT_CURSOR
#define __NYANCAT_CURSOR
#define FRAME_DURATION 0.07
collections {
	group { name: "nyanology/catcursor";
		alias: "terminology/cursor";
		images {
			image: "cat01.png" COMP;
			image: "cat02.png" COMP;
			image: "cat03.png" COMP;
			image: "cat04.png" COMP;
			image: "cat05.png" COMP;
			image: "cat06.png" COMP;
			image: "cat07.png" COMP;
			image: "cat08.png" COMP;
			image: "cat09.png" COMP;
			image: "cat10.png" COMP;
			image: "cat11.png" COMP;
			image: "cat12.png" COMP;
			image: "cr_key.png" COMP;
		}
	      sounds {
		 sample { name: "nya000" LOSSY 64; source: "nya000.wav"; }
		 sample { name: "nya001" LOSSY 64; source: "nya001.wav"; }
		 sample { name: "nya002" LOSSY 64; source: "nya002.wav"; }
		 sample { name: "nya003" LOSSY 64; source: "nya003.wav"; }
		 sample { name: "nya004" LOSSY 64; source: "nya004.wav"; }
		 sample { name: "nya005" LOSSY 64; source: "nya005.wav"; }
		 sample { name: "nya006" LOSSY 64; source: "nya006.wav"; }
		 sample { name: "nya007" LOSSY 64; source: "nya007.wav"; }
		 sample { name: "nya008" LOSSY 64; source: "nya008.wav"; }
		 sample { name: "nya009" LOSSY 64; source: "nya009.wav"; }
		 sample { name: "nya010" LOSSY 64; source: "nya010.wav"; }
		 sample { name: "nya011" LOSSY 64; source: "nya011.wav"; }
		 sample { name: "nya012" LOSSY 64; source: "nya012.wav"; }
		 sample { name: "nya013" LOSSY 64; source: "nya013.wav"; }
		 sample { name: "nya014" LOSSY 64; source: "nya014.wav"; }
		 sample { name: "nya015" LOSSY 64; source: "nya015.wav"; }
		 sample { name: "nya016" LOSSY 64; source: "nya016.wav"; }
		 sample { name: "nya017" LOSSY 64; source: "nya017.wav"; }
		 sample { name: "nya018" LOSSY 64; source: "nya018.wav"; }
		 sample { name: "nya019" LOSSY 64; source: "nya019.wav"; }
		 sample { name: "nya020" LOSSY 64; source: "nya020.wav"; }
		 sample { name: "nya021" LOSSY 64; source: "nya021.wav"; }
		 sample { name: "nya022" LOSSY 64; source: "nya022.wav"; }
		 sample { name: "nya023" LOSSY 64; source: "nya023.wav"; }
		 sample { name: "nya024" LOSSY 64; source: "nya024.wav"; }
		 sample { name: "nya025" LOSSY 64; source: "nya025.wav"; }
		 sample { name: "nya026" LOSSY 64; source: "nya026.wav"; }
		 sample { name: "nya027" LOSSY 64; source: "nya027.wav"; }
		 sample { name: "nya028" LOSSY 64; source: "nya028.wav"; }
		 sample { name: "nya029" LOSSY 64; source: "nya029.wav"; }
		 sample { name: "nya030" LOSSY 64; source: "nya030.wav"; }
		 sample { name: "nya031" LOSSY 64; source: "nya031.wav"; }
		 sample { name: "nya032" LOSSY 64; source: "nya032.wav"; }
		 sample { name: "nya033" LOSSY 64; source: "nya033.wav"; }
		 sample { name: "nya034" LOSSY 64; source: "nya034.wav"; }
		 sample { name: "nya035" LOSSY 64; source: "nya035.wav"; }
		 sample { name: "nya036" LOSSY 64; source: "nya036.wav"; }
		 sample { name: "nya037" LOSSY 64; source: "nya037.wav"; }
		 sample { name: "nya038" LOSSY 64; source: "nya038.wav"; }
		 sample { name: "nya039" LOSSY 64; source: "nya039.wav"; }
		 sample { name: "nya040" LOSSY 64; source: "nya040.wav"; }
		 sample { name: "nya041" LOSSY 64; source: "nya041.wav"; }
		 sample { name: "nya042" LOSSY 64; source: "nya042.wav"; }
		 sample { name: "nya043" LOSSY 64; source: "nya043.wav"; }
		 sample { name: "nya044" LOSSY 64; source: "nya044.wav"; }
		 sample { name: "nya045" LOSSY 64; source: "nya045.wav"; }
		 sample { name: "nya046" LOSSY 64; source: "nya046.wav"; }
		 sample { name: "nya047" LOSSY 64; source: "nya047.wav"; }
		 sample { name: "nya048" LOSSY 64; source: "nya048.wav"; }
		 sample { name: "nya049" LOSSY 64; source: "nya049.wav"; }
		 sample { name: "nya050" LOSSY 64; source: "nya050.wav"; }
		 sample { name: "nya051" LOSSY 64; source: "nya051.wav"; }
		 sample { name: "nya052" LOSSY 64; source: "nya052.wav"; }
		 sample { name: "nya053" LOSSY 64; source: "nya053.wav"; }
		 sample { name: "nya054" LOSSY 64; source: "nya054.wav"; }
		 sample { name: "nya055" LOSSY 64; source: "nya055.wav"; }
		 sample { name: "nya056" LOSSY 64; source: "nya056.wav"; }
		 sample { name: "nya057" LOSSY 64; source: "nya057.wav"; }
		 sample { name: "nya058" LOSSY 64; source: "nya058.wav"; }
		 sample { name: "nya059" LOSSY 64; source: "nya059.wav"; }
		 sample { name: "nya060" LOSSY 64; source: "nya060.wav"; }
		 sample { name: "nya061" LOSSY 64; source: "nya061.wav"; }
		 sample { name: "nya062" LOSSY 64; source: "nya062.wav"; }
		 sample { name: "nya063" LOSSY 64; source: "nya063.wav"; }
		 sample { name: "nya064" LOSSY 64; source: "nya064.wav"; }
		 sample { name: "nya065" LOSSY 64; source: "nya065.wav"; }
		 sample { name: "nya066" LOSSY 64; source: "nya066.wav"; }
		 sample { name: "nya067" LOSSY 64; source: "nya067.wav"; }
		 sample { name: "nya068" LOSSY 64; source: "nya068.wav"; }
		 sample { name: "nya069" LOSSY 64; source: "nya069.wav"; }
		 sample { name: "nya070" LOSSY 64; source: "nya070.wav"; }
		 sample { name: "nya071" LOSSY 64; source: "nya071.wav"; }
		 sample { name: "nya072" LOSSY 64; source: "nya072.wav"; }
		 sample { name: "nya073" LOSSY 64; source: "nya073.wav"; }
		 sample { name: "nya074" LOSSY 64; source: "nya074.wav"; }
		 sample { name: "nya075" LOSSY 64; source: "nya075.wav"; }
		 sample { name: "nya076" LOSSY 64; source: "nya076.wav"; }
		 sample { name: "nya077" LOSSY 64; source: "nya077.wav"; }
	      }
	      script {
		public nya_index;
		}
		parts {
			part { name: "cat";
				description { state: "default" 0.0;
					min: 0 17;
					max: SOURCE;
					aspect: 2.4 2.6; // aspect from the source image
					aspect_preference: VERTICAL;
					rel1.relative: 4.5 0;
					image.normal: "cat01.png";
					map.on: 1;
				}
				description { state: "greyed";
					inherit: "default";
					color: 120 120 120 255;
				}
				description { state: "anim1" 0.0;
					inherit: "default";
					image {
						tween: "cat01.png";
						tween: "cat02.png";
						tween: "cat03.png";
						tween: "cat04.png";
						tween: "cat05.png";
						normal: "cat06.png";
					}
				}
				description { state: "anim2" 0.0;
					inherit: "default";
					image {
						tween: "cat07.png";
						tween: "cat08.png";
						tween: "cat09.png";
						tween: "cat10.png";
						tween: "cat11.png";
						normal: "cat12.png";
					}
				}
				description { state: "rotation1" 0.0;
					inherit: "default";
					image {
						tween: "cat01.png";
						tween: "cat02.png";
						normal: "cat03.png";
					}
					map.rotation.z: -35.0;
				}
				description { state: "rotation2" 0.0;
					inherit: "default";
					image {
						tween: "cat04.png";
						tween: "cat05.png";
						tween: "cat06.png";
						tween: "cat07.png";
						tween: "cat08.png";
						normal: "cat09.png";
					}
					map.rotation.z: 35.0;
				}
				description { state: "rotation3" 0.0;
					inherit: "default";
					image {
						tween: "cat10.png";
						tween: "cat11.png";
						normal: "cat12.png";
					}
					map.rotation.z: 0.0;
				}
			}

			part { name: "key";
				mouse_events: 0;
				description { state: "default" 0.0;
					rel1 {
						to: "cat";
						offset: -5 -5;
						relative: 0.1 0.0;
					}
					rel2 {
						to: "cat";
						offset: 4 4;
						relative: 0.5 1.0;
					}
					image {
						normal: "cr_key.png";
						border: 4 4 4 4;
					}
					color: 255 255 255 0;
				}
				description { state: "on" 0.0;
					inherit: "default" 0.0;
					color: 255 255 255 255;
				}
				description { state: "out" 0.0;
					inherit: "default" 0.0;
					color: 160 100 255 0;
					rel1.relative: -0.2 -0.18;
					rel2.relative: 0.6 1.18;
				}
			}

		}
		programs {
			program { name: "anim";
				signal: "focus,in";
				source: "terminology";
				action: STATE_SET "anim1" 0.0;
				transition: LINEAR FRAME_DURATION*6;
				target: "cat";
				after: "loop";
			}
			program { name: "loop";
				action: STATE_SET "anim2" 0.0;
				transition: LINEAR FRAME_DURATION*6;
				target: "cat";
				after: "anim";
			}
			program { name: "stop_anim";
				signal: "focus,out";
				source: "terminology";
				action: ACTION_STOP;
				target: "anim";
				target: "loop";
				target: "bellrotate1";
				target: "bellrotate2";
				target: "bellrotate3";
				after: "stop_anim2";
			}
			// Is it that important to go back to default state ?
			program { name: "stop_anim2";
				action: STATE_SET "greyed" 0.0;
				transition: LINEAR FRAME_DURATION*6;
				target: "cat";
			}
            program {
               signal: "key,down"; source: "terminology";
               script {
#if (EFL_VERSION_MAJOR > 1) || (EFL_VERSION_MINOR >= 8)
                  new buf[32];
                  snprintf(buf, 31, "key-down%i", get_int(nya_index));
		  set_int(nya_index, (get_int(nya_index) + 1) %78);
                  run_program(get_program_id(buf));
#else
                  run_program(PROGRAM:"key-down004"); // chosen by a fair dice roll
                                                    // guaranteed to be random.
                                                    // http://xkcd.com/221/
#endif
               }
            }
            program { name: "key-down0"; action: PLAY_SAMPLE "nya000" 1.0 INPUT; }
            program { name: "key-down1"; action: PLAY_SAMPLE "nya001" 1.0 INPUT; }
            program { name: "key-down2"; action: PLAY_SAMPLE "nya002" 1.0 INPUT; }
            program { name: "key-down3"; action: PLAY_SAMPLE "nya003" 1.0 INPUT; }
            program { name: "key-down4"; action: PLAY_SAMPLE "nya004" 1.0 INPUT; }
            program { name: "key-down5"; action: PLAY_SAMPLE "nya005" 1.0 INPUT; }
            program { name: "key-down6"; action: PLAY_SAMPLE "nya006" 1.0 INPUT; }
            program { name: "key-down7"; action: PLAY_SAMPLE "nya007" 1.0 INPUT; }
            program { name: "key-down8"; action: PLAY_SAMPLE "nya008" 1.0 INPUT; }
            program { name: "key-down9"; action: PLAY_SAMPLE "nya009" 1.0 INPUT; }
            program { name: "key-down10"; action: PLAY_SAMPLE "nya010" 1.0 INPUT; }
            program { name: "key-down11"; action: PLAY_SAMPLE "nya011" 1.0 INPUT; }
            program { name: "key-down12"; action: PLAY_SAMPLE "nya012" 1.0 INPUT; }
            program { name: "key-down13"; action: PLAY_SAMPLE "nya013" 1.0 INPUT; }
            program { name: "key-down14"; action: PLAY_SAMPLE "nya014" 1.0 INPUT; }
            program { name: "key-down15"; action: PLAY_SAMPLE "nya015" 1.0 INPUT; }
            program { name: "key-down16"; action: PLAY_SAMPLE "nya016" 1.0 INPUT; }
            program { name: "key-down17"; action: PLAY_SAMPLE "nya017" 1.0 INPUT; }
            program { name: "key-down18"; action: PLAY_SAMPLE "nya018" 1.0 INPUT; }
            program { name: "key-down19"; action: PLAY_SAMPLE "nya019" 1.0 INPUT; }
            program { name: "key-down20"; action: PLAY_SAMPLE "nya020" 1.0 INPUT; }
            program { name: "key-down21"; action: PLAY_SAMPLE "nya021" 1.0 INPUT; }
            program { name: "key-down22"; action: PLAY_SAMPLE "nya022" 1.0 INPUT; }
            program { name: "key-down23"; action: PLAY_SAMPLE "nya023" 1.0 INPUT; }
            program { name: "key-down24"; action: PLAY_SAMPLE "nya024" 1.0 INPUT; }
            program { name: "key-down25"; action: PLAY_SAMPLE "nya025" 1.0 INPUT; }
            program { name: "key-down26"; action: PLAY_SAMPLE "nya026" 1.0 INPUT; }
            program { name: "key-down27"; action: PLAY_SAMPLE "nya027" 1.0 INPUT; }
            program { name: "key-down28"; action: PLAY_SAMPLE "nya028" 1.0 INPUT; }
            program { name: "key-down29"; action: PLAY_SAMPLE "nya029" 1.0 INPUT; }
            program { name: "key-down30"; action: PLAY_SAMPLE "nya030" 1.0 INPUT; }
            program { name: "key-down31"; action: PLAY_SAMPLE "nya031" 1.0 INPUT; }
            program { name: "key-down32"; action: PLAY_SAMPLE "nya032" 1.0 INPUT; }
            program { name: "key-down33"; action: PLAY_SAMPLE "nya033" 1.0 INPUT; }
            program { name: "key-down34"; action: PLAY_SAMPLE "nya034" 1.0 INPUT; }
            program { name: "key-down35"; action: PLAY_SAMPLE "nya035" 1.0 INPUT; }
            program { name: "key-down36"; action: PLAY_SAMPLE "nya036" 1.0 INPUT; }
            program { name: "key-down37"; action: PLAY_SAMPLE "nya037" 1.0 INPUT; }
            program { name: "key-down38"; action: PLAY_SAMPLE "nya038" 1.0 INPUT; }
            program { name: "key-down39"; action: PLAY_SAMPLE "nya039" 1.0 INPUT; }
            program { name: "key-down40"; action: PLAY_SAMPLE "nya040" 1.0 INPUT; }
            program { name: "key-down41"; action: PLAY_SAMPLE "nya041" 1.0 INPUT; }
            program { name: "key-down42"; action: PLAY_SAMPLE "nya042" 1.0 INPUT; }
            program { name: "key-down43"; action: PLAY_SAMPLE "nya043" 1.0 INPUT; }
            program { name: "key-down44"; action: PLAY_SAMPLE "nya044" 1.0 INPUT; }
            program { name: "key-down45"; action: PLAY_SAMPLE "nya045" 1.0 INPUT; }
            program { name: "key-down46"; action: PLAY_SAMPLE "nya046" 1.0 INPUT; }
            program { name: "key-down47"; action: PLAY_SAMPLE "nya047" 1.0 INPUT; }
            program { name: "key-down48"; action: PLAY_SAMPLE "nya048" 1.0 INPUT; }
            program { name: "key-down49"; action: PLAY_SAMPLE "nya049" 1.0 INPUT; }
            program { name: "key-down50"; action: PLAY_SAMPLE "nya050" 1.0 INPUT; }
            program { name: "key-down51"; action: PLAY_SAMPLE "nya051" 1.0 INPUT; }
            program { name: "key-down52"; action: PLAY_SAMPLE "nya052" 1.0 INPUT; }
            program { name: "key-down53"; action: PLAY_SAMPLE "nya053" 1.0 INPUT; }
            program { name: "key-down54"; action: PLAY_SAMPLE "nya054" 1.0 INPUT; }
            program { name: "key-down55"; action: PLAY_SAMPLE "nya055" 1.0 INPUT; }
            program { name: "key-down56"; action: PLAY_SAMPLE "nya056" 1.0 INPUT; }
            program { name: "key-down57"; action: PLAY_SAMPLE "nya057" 1.0 INPUT; }
            program { name: "key-down58"; action: PLAY_SAMPLE "nya058" 1.0 INPUT; }
            program { name: "key-down59"; action: PLAY_SAMPLE "nya059" 1.0 INPUT; }
            program { name: "key-down60"; action: PLAY_SAMPLE "nya060" 1.0 INPUT; }
            program { name: "key-down61"; action: PLAY_SAMPLE "nya061" 1.0 INPUT; }
            program { name: "key-down62"; action: PLAY_SAMPLE "nya062" 1.0 INPUT; }
            program { name: "key-down63"; action: PLAY_SAMPLE "nya063" 1.0 INPUT; }
            program { name: "key-down64"; action: PLAY_SAMPLE "nya064" 1.0 INPUT; }
            program { name: "key-down65"; action: PLAY_SAMPLE "nya065" 1.0 INPUT; }
            program { name: "key-down66"; action: PLAY_SAMPLE "nya066" 1.0 INPUT; }
            program { name: "key-down67"; action: PLAY_SAMPLE "nya067" 1.0 INPUT; }
            program { name: "key-down68"; action: PLAY_SAMPLE "nya068" 1.0 INPUT; }
            program { name: "key-down69"; action: PLAY_SAMPLE "nya069" 1.0 INPUT; }
            program { name: "key-down70"; action: PLAY_SAMPLE "nya070" 1.0 INPUT; }
            program { name: "key-down71"; action: PLAY_SAMPLE "nya071" 1.0 INPUT; }
            program { name: "key-down72"; action: PLAY_SAMPLE "nya072" 1.0 INPUT; }
            program { name: "key-down73"; action: PLAY_SAMPLE "nya073" 1.0 INPUT; }
            program { name: "key-down74"; action: PLAY_SAMPLE "nya074" 1.0 INPUT; }
            program { name: "key-down75"; action: PLAY_SAMPLE "nya075" 1.0 INPUT; }
            program { name: "key-down76"; action: PLAY_SAMPLE "nya076" 1.0 INPUT; }
            program { name: "key-down77"; action: PLAY_SAMPLE "nya077" 1.0 INPUT; }

			program { name: "key";
				signal: "key,down";
				source: "terminology";
				action: STATE_SET "default" 0.0;
				target: "key";
				after: "key2";
			}
			program { name: "key2";
				action: STATE_SET "on" 0.0;
				target: "key";
				after: "key3";
			}
			program { name: "key3";
				action: STATE_SET "out" 0.0;
				transition: DECELERATE 0.3;
				target: "key";
			}
			program { name: "bellrotate1";
				signal: "bell";
				source: "terminology";
				action: STATE_SET "rotation1" 0.0;
				transition: LINEAR 0.12;
				target: "cat";
				after: "bellrotate2";
			}
			program { name: "bellrotate2";
				action: STATE_SET "rotation2" 0.0;
				transition: LINEAR 0.24;
				target: "cat";
				after: "bellrotate3";
			}
			program { name: "bellrotate3";
				action: STATE_SET "rotation3" 0.0;
				transition: LINEAR 0.12;
				target: "cat";
				after: "anim";
			}
		}
	}
}
#endif /*__NYANCAT_CURSOR*/
